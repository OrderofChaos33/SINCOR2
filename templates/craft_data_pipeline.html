{% extends "base.html" %}

{% block title %}Data Pipeline - SINCOR Craft{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative overflow-hidden">
    <!-- Neural Network Background -->
    <div class="absolute inset-0 opacity-20">
        <div class="neural-network"></div>
    </div>

    <!-- Header -->
    <section class="relative pt-32 pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="glassmorphism p-8 rounded-3xl mb-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-5xl font-black text-white mb-4">
                            Data <span class="morphing-text">Pipeline</span>
                        </h1>
                        <p class="text-xl text-gray-300">
                            Real-time data processing and transformation engine
                        </p>
                    </div>
                    <div class="flex space-x-4">
                        <button class="bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all duration-300">
                            Create Pipeline
                        </button>
                        <button class="glassmorphism text-white px-6 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all duration-300">
                            Monitor
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pipeline Stats -->
    <section class="relative pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-4 gap-6">
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-emerald-400 mb-2">23</div>
                    <p class="text-gray-300">Active Pipelines</p>
                </div>
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-blue-400 mb-2">847GB</div>
                    <p class="text-gray-300">Data Processed</p>
                </div>
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-purple-400 mb-2">99.8%</div>
                    <p class="text-gray-300">Uptime</p>
                </div>
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-orange-400 mb-2">2.4M</div>
                    <p class="text-gray-300">Records/Hour</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pipeline Overview -->
    <section class="relative pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Pipeline List -->
                <div class="glassmorphism p-8 rounded-2xl">
                    <h3 class="text-2xl font-bold text-white mb-6">Active Pipelines</h3>
                    <div class="space-y-4">
                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                                    <h4 class="text-lg font-semibold text-white">Customer Data ETL</h4>
                                    <span class="bg-green-900 text-green-300 px-2 py-1 rounded text-xs">Streaming</span>
                                </div>
                                <button class="text-blue-400 hover:text-blue-300">View</button>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4 text-sm mb-4">
                                <div>
                                    <span class="text-gray-400">Source:</span>
                                    <span class="text-white ml-2">PostgreSQL, MongoDB</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Destination:</span>
                                    <span class="text-white ml-2">Data Warehouse</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Throughput:</span>
                                    <span class="text-green-400 ml-2">15.2k records/min</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Latency:</span>
                                    <span class="text-green-400 ml-2">1.2s avg</span>
                                </div>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-green-400 h-2 rounded-full animate-pulse" style="width: 100%"></div>
                            </div>
                        </div>

                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-blue-400 rounded-full animate-pulse"></div>
                                    <h4 class="text-lg font-semibold text-white">Analytics Processing</h4>
                                    <span class="bg-blue-900 text-blue-300 px-2 py-1 rounded text-xs">Batch</span>
                                </div>
                                <button class="text-blue-400 hover:text-blue-300">View</button>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4 text-sm mb-4">
                                <div>
                                    <span class="text-gray-400">Source:</span>
                                    <span class="text-white ml-2">Event Logs, APIs</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Destination:</span>
                                    <span class="text-white ml-2">Analytics DB</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Schedule:</span>
                                    <span class="text-blue-400 ml-2">Every 4 hours</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Last Run:</span>
                                    <span class="text-blue-400 ml-2">2 hours ago</span>
                                </div>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-blue-400 h-2 rounded-full" style="width: 75%"></div>
                            </div>
                        </div>

                        <div class="bg-gray-800 rounded-lg p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                                    <h4 class="text-lg font-semibold text-white">ML Feature Pipeline</h4>
                                    <span class="bg-yellow-900 text-yellow-300 px-2 py-1 rounded text-xs">Warning</span>
                                </div>
                                <button class="text-blue-400 hover:text-blue-300">View</button>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4 text-sm mb-4">
                                <div>
                                    <span class="text-gray-400">Source:</span>
                                    <span class="text-white ml-2">Feature Store</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Destination:</span>
                                    <span class="text-white ml-2">ML Platform</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Status:</span>
                                    <span class="text-yellow-400 ml-2">High memory usage</span>
                                </div>
                                <div>
                                    <span class="text-gray-400">Throughput:</span>
                                    <span class="text-yellow-400 ml-2">8.7k records/min</span>
                                </div>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-yellow-400 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Real-time Monitoring -->
                <div class="glassmorphism p-8 rounded-2xl">
                    <h3 class="text-2xl font-bold text-white mb-6">Real-time Monitoring</h3>
                    <div class="space-y-6">
                        <!-- Throughput Chart -->
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h4 class="text-lg font-semibold text-white mb-4">Data Throughput</h4>
                            <div class="h-32 bg-gray-900 rounded-lg flex items-end justify-between p-4">
                                <div class="w-4 bg-green-400 rounded-t" style="height: 60%"></div>
                                <div class="w-4 bg-green-400 rounded-t" style="height: 80%"></div>
                                <div class="w-4 bg-green-400 rounded-t" style="height: 45%"></div>
                                <div class="w-4 bg-green-400 rounded-t" style="height: 90%"></div>
                                <div class="w-4 bg-green-400 rounded-t" style="height: 75%"></div>
                                <div class="w-4 bg-green-400 rounded-t" style="height: 95%"></div>
                                <div class="w-4 bg-blue-400 rounded-t" style="height: 100%"></div>
                            </div>
                            <div class="flex justify-between text-sm text-gray-400 mt-2">
                                <span>6h ago</span>
                                <span>Now</span>
                            </div>
                        </div>

                        <!-- Error Rate -->
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h4 class="text-lg font-semibold text-white mb-4">Error Rate</h4>
                            <div class="flex items-center space-x-4">
                                <div class="flex-1">
                                    <div class="w-full bg-gray-700 rounded-full h-3">
                                        <div class="bg-green-400 h-3 rounded-full" style="width: 98.7%"></div>
                                    </div>
                                </div>
                                <span class="text-green-400 font-semibold">98.7%</span>
                            </div>
                            <p class="text-gray-400 text-sm mt-2">Success rate (last 24h)</p>
                        </div>

                        <!-- Resource Usage -->
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h4 class="text-lg font-semibold text-white mb-4">Resource Usage</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-300">CPU</span>
                                        <span class="text-blue-400">67%</span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-blue-400 h-2 rounded-full" style="width: 67%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-300">Memory</span>
                                        <span class="text-yellow-400">82%</span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-yellow-400 h-2 rounded-full" style="width: 82%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-300">Storage</span>
                                        <span class="text-green-400">43%</span>
                                    </div>
                                    <div class="w-full bg-gray-700 rounded-full h-2">
                                        <div class="bg-green-400 h-2 rounded-full" style="width: 43%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Alert Summary -->
                        <div class="bg-gray-800 rounded-lg p-6">
                            <h4 class="text-lg font-semibold text-white mb-4">Active Alerts</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                                        <span class="text-white text-sm">High memory usage</span>
                                    </div>
                                    <span class="text-gray-400 text-xs">15m ago</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                        <span class="text-white text-sm">Queue backlog detected</span>
                                    </div>
                                    <span class="text-gray-400 text-xs">32m ago</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                        <span class="text-white text-sm">All systems operational</span>
                                    </div>
                                    <span class="text-gray-400 text-xs">1h ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Sources -->
    <section class="relative pb-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="glassmorphism p-8 rounded-2xl">
                <h3 class="text-2xl font-bold text-white mb-6">Connected Data Sources</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">PostgreSQL</h4>
                                    <p class="text-gray-400 text-sm">Primary database</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Tables: 47 • Records: 2.4M</p>
                            <p>Last sync: 2 minutes ago</p>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">MongoDB</h4>
                                    <p class="text-gray-400 text-sm">Document store</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Collections: 23 • Documents: 8.7M</p>
                            <p>Last sync: 5 minutes ago</p>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">REST APIs</h4>
                                    <p class="text-gray-400 text-sm">External services</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Endpoints: 12 • Requests: 15k/hour</p>
                            <p>Last poll: 1 minute ago</p>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">File Storage</h4>
                                    <p class="text-gray-400 text-sm">CSV, JSON, Parquet</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Files: 1,247 • Size: 834GB</p>
                            <p>Last scan: 10 minutes ago</p>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2M7 4h10l2 16H5l2-16z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">Event Streams</h4>
                                    <p class="text-gray-400 text-sm">Real-time events</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Streams: 8 • Events: 450k/hour</p>
                            <p>Latency: 200ms avg</p>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="text-white font-semibold">Analytics DB</h4>
                                    <p class="text-gray-400 text-sm">Data warehouse</p>
                                </div>
                            </div>
                            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                        </div>
                        <div class="text-sm text-gray-300">
                            <p>Tables: 156 • Records: 47M</p>
                            <p>Query time: 1.2s avg</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recent Activity -->
    <section class="relative pb-20 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="glassmorphism p-8 rounded-2xl">
                <h3 class="text-2xl font-bold text-white mb-6">Recent Activity</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-white font-medium">Customer Data ETL completed batch processing</p>
                                <p class="text-gray-400 text-sm">Processed 247k records • Duration: 12m 34s</p>
                            </div>
                        </div>
                        <span class="text-gray-400 text-sm">3 min ago</span>
                    </div>

                    <div class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-white font-medium">Analytics Processing pipeline restarted</p>
                                <p class="text-gray-400 text-sm">Auto-recovery triggered after timeout • Status: Running</p>
                            </div>
                        </div>
                        <span class="text-gray-400 text-sm">18 min ago</span>
                    </div>

                    <div class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.704-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="text-white font-medium">New pipeline created: Social Media Analytics</p>
                                <p class="text-gray-400 text-sm">Configuration validated • Ready for deployment</p>
                            </div>
                        </div>
                        <span class="text-gray-400 text-sm">1 hour ago</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}